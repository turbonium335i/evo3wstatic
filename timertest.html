<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="shortcut icon" type="image/png"
        href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K">
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
</head>

<body class=" bg-dark text-light">
    <div class="container" id="mainDiv">
        <h5 id="testName" class="text-center text-warning mt-5">Wavepoint English Proficienty Quiz </h5>
        <br>
        <div class="d-flex justify-content-start   pe-4 mb-3">
            <h3>
                <span class="text-warning">Directions &nbsp;
                </span>
            </h3>
        </div>
        <div class="progress bg-dark" style="height: 2px;">
            <div class="progress-bar bg-success" role="progressbar" style="width: 100%;" aria-valuenow="25"
                aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <br>
        <div class="ms-3">
            <p>
                The questions in this section address a number of important reading and writing skills. Each question
                includes one
                or more texts, which may include a table or a graph. Read each text and question carefully, then choose
                the
                best answer
                to the question based on the text(s).
            </p>
            <p> All questions in this section are multiple-choice with four answer choices. Each question has a single
                best
                answer.
            </p>
            <br>
            <li>Mobile phones, smartwatches, fitness trackers, or other wearable technology (simple nondigital watches
                are
                acceptable)
            </li>
            <li>Separate timers of any type</li>
            <li>Cameras or any other photographic equipment</li>
            <li>Unacceptable calculators that have QWERTY (computer-like) keypads, use paper tape, make noise, or use a
                power cord
            </li>
        </div>
        <div class="text-center py-5" id="linkDiv">
            <button class="btn btn-secondary btn-lg" id="startBtn" onclick="hideMainDiv()">Start Section <i
                    class="bi bi-arrow-right-circle"></i></button>
        </div>
        <br>
        <div id="jsData"></div>
    </div>
    <!-- <div class="container text-center text-primary" id="demobox"></div> -->
    <div class="container px-lg-5 mt-5  d-none" id="testDiv">
        <div class="text-center m-3">
            <h5 class="text-warning">Wavepoint English Proficienty Quiz</h5>
        </div>
        <div class="text-danger text-end"><span id="demo">00h 00m 00s </span></div>
        <div class="progress bg-secondary" style="height: 5px;">
            <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="25" aria-valuemin="0"
                aria-valuemax="100"></div>
        </div>
        <br>
        <div class="h5 text-end" id="qCount">Question 1/10</div>
        <div class="container   rounded my-3 p-1 ps-2 pb-5  h5 " id="question">
            Along the highway <u>is</u> a dog and a cat.
        </div>
        <div class=" border border-secondary rounded mb-2 mx-lg-5 py-2 ps-2" id="a" style="cursor:pointer;">A. This is a
            NO CHANGE.</div>
        <div class=" border border-secondary rounded mb-2 mx-lg-5 py-2 ps-2" id="b" style="cursor:pointer;">B. is</div>
        <div class=" border border-secondary rounded mb-2 mx-lg-5 py-2 ps-2" id="c" style="cursor:pointer;">C. are</div>
        <div class=" border border-secondary rounded mb-2 mx-lg-5 py-2 ps-2" id="d" style="cursor:pointer;">D. was</div>
        <div class="text-end mx-lg-5 my-4 ">
            <button type="button" class="btn btn-outline-info  " id="read">
                <i class="bi bi-soundwave"></i></button>
            <button type="button" class="btn btn-outline-primary  " id="next">Next <i
                    class="bi bi-arrow-right-circle"></i></button>
            <br>
        </div>
        <div class="container d-none" id="solution"></div>
    </div>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script>


        // function myTimer() {
        //     var d = new Date();
        //     var t = d.toLocaleTimeString();
        //     document.getElementById("demobox").innerHTML = t;
        // }





        function hideMainDiv() {
            document.getElementById("mainDiv").classList.add("d-none");
            document.getElementById("testDiv").classList.remove("d-none");

            myVar = setInterval(startTimer, 1000);
            countDownDate = (Date.now() + timeLeft)
        }

        var myVar
        var timeLeft = 602000
        var countDownDate

        function startTimer() {

            var now = new Date().getTime();
            var distance = countDownDate - now;
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            if (hours < 10) {
                hours = "0" + hours
            }
            if (minutes < 10) {
                minutes = "0" + minutes
            }
            if (seconds < 10) {
                seconds = "0" + seconds
            }
            document.getElementById("demo").innerHTML = hours + "h "
                + minutes + "m " + seconds + "s ";
            if (distance < 0) {
                clearInterval(countDownDate);
                document.getElementById("demo").innerHTML = "TIME'S UP";
            }
            timeLeft -= 1000
            // localStorage.setItem('timeLeft', JSON.stringify(timeLeft));
            // console.log(localStorage.getItem('timeLeft'))
        }


        function timerFunction() {
            // var timer = document.getElementById("timer");
            // var demo = document.getElementById("demo");

            if (timer.classList.contains('timerOn')) {
                demo.style.display = "none";
                timer.classList.remove("timerOn");
            } else {
                demo.style.display = "block";
                timer.classList.add("timerOn");
            }
        }

    </script>
    <script>
        var apiJson = [{ "id": 1, "question": "I bought a new Patek Philippe Nautilus as a gift for myself I could afford it because I just received my well-earned bonus.", "choice1": "NO CHANGE", "choice2": "myself, I could", "choice3": "myself, so", "choice4": "myself; I could", "correct": "myself; I could", "difficulty": 1, "tag": "Sentence Structure", "solution": "The original sentence is a run on.  (D) \"myself; I could\" is the best answer because it appropriately uses a semicolon to punctuate the break between two independent clauses." }]
        var grammarApi = ['api empty']
        var grammarOutput = []
        function myFunction(item) {
            if (item.tag === "Number Agreement") {
                grammarOutput.push(item)
                const node = document.createElement("li");
                const textnode = document.createTextNode(item.question);
                node.appendChild(textnode);
                document.getElementById("grammarbox").appendChild(node);
            }
        }
        // function getGrammar() {
        //     fetch('https://pertinacity1.pythonanywhere.com/grammarapi')
        //         .then((resp) => resp.json())
        //         .then(function (data) {
        //             console.log('Grammar Api: ', data)
        //             grammarApi = data;
        //             grammarApi.forEach(myFunction);
        //         })
        // }
        // getGrammar();
        // apiJson.forEach(myFunction)
        var s = document.getElementById("solution")
        function showSolution() {
            s.classList.remove("d-none")
        }
        function hideSolution() {
            s.classList.add("d-none")
        }
        var a = document.getElementById("a");
        a.addEventListener("click", function () {
            checkAnswer(a);
        });
        var b = document.getElementById("b");
        b.addEventListener("click", function () {
            checkAnswer(b);
        });
        var c = document.getElementById("c");
        c.addEventListener("click", function () {
            checkAnswer(c);
        });
        var d = document.getElementById("d");
        d.addEventListener("click", function () {
            checkAnswer(d);
        });
        var progressDone = 0
        var currentQuestion = []
        function checkAnswer(ans) {
            console.log(currentQuestion.correct)
            console.log(ans.dataset.id)
            progressDone += 10
            if (ans.dataset.id === currentQuestion.correct) {
                ans.classList.toggle("bg-success");
                ans.classList.toggle("border-success");
            } else {
                cA = document.getElementById(correctChoice);
                cA.classList.add("border-success");
                ans.classList.toggle("bg-secondary");
                ans.classList.toggle("border-danger");
                console.log(correctChoice)
            }
            showSolution();
            document
                .getElementsByClassName("progress-bar")[1]
                .setAttribute("style", "width:" + progressDone + "%");
        }
        var choiceA = "A"
        var choiceB = "B"
        var choiceC = "C"
        var choiceD = "D"
        var correctChoice = "X"
        var q = 0
        var apiLen = apiJson.length
        var qbox = document.getElementById("question")
        var cQuestion = ""
        function loadQuestion(q) {
            var randomItem = apiJson[Math.floor(Math.random() * apiJson.length)];
            currentQuestion = randomItem
            choiceA = randomItem.choice1
            choiceB = randomItem.choice2
            choiceC = randomItem.choice3
            choiceD = randomItem.choice4
            qbox.innerHTML = randomItem.question
            cQuestion = randomItem.question
            document.getElementById("a").innerHTML = "A.   " + randomItem.choice1
            document.getElementById("b").innerHTML = "B.   " + randomItem.choice2
            document.getElementById("c").innerHTML = "C.   " + randomItem.choice3
            document.getElementById("d").innerHTML = "D.   " + randomItem.choice4
            a.dataset.id = randomItem.choice1
            b.dataset.id = randomItem.choice2
            c.dataset.id = randomItem.choice3
            d.dataset.id = randomItem.choice4
            if (randomItem.choice1 === randomItem.correct) { correctChoice = "a" }
            else if (randomItem.choice2 === randomItem.correct) { correctChoice = "b" }
            else if (randomItem.choice3 === randomItem.correct) { correctChoice = "c" }
            else if (randomItem.choice4 === randomItem.correct) { correctChoice = "d" }
            document.getElementById("solution").innerHTML = "Solution: " + randomItem.solution + `<h6 class="text-primary my-3  ">
                
                
                <a href="/wistia.html" class="text-decoration-none" >${randomItem.tag}</a>
                
                
                </h6>`
            document.getElementById("qCount").innerHTML = "Question   " + randomItem.id + "/" + apiLen
        }
        loadQuestion(q)
        document.getElementById('next').addEventListener("click", updateQuestion)
        function updateQuestion() {
            a.classList.remove("bg-success", "border-success", "bg-secondary", "border-secondary", "border-danger");
            b.classList.remove("bg-success", "border-success", "bg-secondary", "border-secondary", "border-danger");
            c.classList.remove("bg-success", "border-success", "bg-secondary", "border-secondary", "border-danger");
            d.classList.remove("bg-success", "border-success", "bg-secondary", "border-secondary", "border-danger");
            hideSolution()
            q += 1;
            loadQuestion(q)
        }

    </script>
</body>

</html>