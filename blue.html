<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evo-A.I.</title>
    <link rel="shortcut icon" type="image/png"
        href="https://i.postimg.cc/TwPQwwDF/204-2049751-network-icon-red-network-icon-png.png">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">



</head>

<body class="bg-dark text-light">
    <div class="container text-warning">Selected: <span id="selput">...</span></div>

    <div class="container p-5 border" id="c1">
        <h1>For iOS ipad iphone</h1>
        <p>This is an example: </p>
        <p>in other paragraph.</p>
        <p>one more paragraph </p>

        <button type="button" class="btx">Click Me!</button>
    </div>

    <div class="container p-5 d-none border" id="c2">
        <h1>For iOS ipad 2</h1>
        <p>This is an example: </p>
        <p>in other paragraph.</p>
        <p>one more paragraph </p>

        <button type="button" class="btx">Click Me!</button>
    </div>


    <div class="container mt-5">
        <button class="btn btn-warning" onclick="showall()">show</button>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.2.js" integrity="sha256-pkn2CUZmheSeyssYw3vMp1+xyub4m+e+QK4sQskvuo4="
    crossorigin="anonymous"></script>
<script>
    function makeEditableAndHighlight(colour) {
        var range, sel = window.getSelection();
        if (sel.rangeCount && sel.getRangeAt) {
            range = sel.getRangeAt(0);

            console.log(range, sel)
            localStorage.setItem("stuff", range);
        }
        document.designMode = "on";
        if (range) {
            sel.removeAllRanges();
            sel.addRange(range);
        }
        // Use HiliteColor since some browsers apply BackColor to the whole block
        if (!document.execCommand("HiliteColor", false, colour)) {
            document.execCommand("BackColor", false, colour);
        }
        document.designMode = "off";
        document.activeElement.blur();
        document.getElementById('c1').classList.add("d-none");
        document.getElementById('c2').classList.remove("d-none");


    }

    function highlight(colour) {
        var range, sel;
        if (window.getSelection) {
            // IE9 and non-IE
            try {

                makeEditableAndHighlight(colour);
                console.log('ie9')

            } catch (ex) {
                makeEditableAndHighlight(colour);
                console.log('ie9 catch')
            }
        } else if (document.selection && document.selection.createRange) {
            // IE <= 8 case
            console.log('ie8')
            range = document.selection.createRange();
            range.execCommand("BackColor", false, colour);
        }

        console.log(range, sel)
        // var seltext = sel.toString()
        // document.getElementById('selput').innerText = seltext
    }

    $('.btx').on('click touchend', function () {
        highlight('green');
    });

    function showall() {
        document.getElementById('c1').classList.remove("d-none");

    }
</script>

</html>