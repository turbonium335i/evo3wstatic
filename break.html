<!DOCTYPE html>
<html lang="en">

<head>
    <title>CBT Demo</title>
    <link rel="shortcut icon" type="image/png"
        href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K">
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
</head>

<body class="bg-dark text-light">
    <br>
    <div class="container border border-secondary border border-3 rounded-3 px-3" id="timebox">
        <div class="progress mt-3 mb-2 bg-secondary " style="height: 30px;">
            <div class="progress-bar" role="progressbar" style="width: 100%"></div>
        </div>
        <div class="d-flex justify-content-start text-secondary pe-4 mb-3">
            <h3>
                <span class="text-light" style="cursor: progress;">
                    <i class="bi bi-clock-history timerOn" id="timer"></i> Remaining Break Time &nbsp;
                </span>
                <span id="demo" class=" h1">10:00</span>
            </h3>
        </div>
        <div class="ms-3">
            <li>use local storage to start of break time</li>
            <li>use local storage to start of break time</li>
            <li>use local storage to start of break time</li>
            <li>use local storage to start of break time</li>
            <li>use local storage to start of break time</li>
            <li>use local storage to start of break time</li>
            <li>use local storage to start of break time</li>
            <li>use local storage to start of break time</li>
        </div>
        <br>
    </div>
    <div class="text-center py-5">
        <!-- <a href="{% url 'demo' %}" class="btn btn-secondary btn-lg">Start Next Section <i
                class="bi bi-arrow-right-circle"></i></a> -->
        <button type="button" class="btn btn-outline-danger btn-lg" onclick="upDateTimer()">Update Timer</button>
    </div>
    <script>
        function upDateTimer() {
            document
                .getElementsByClassName("progress-bar")[0]
                .setAttribute("style", "width:" + 50 + "%");
        }
        var breakTime = 6000
        var currentSeconds = 6000
        var countDownDate = (Date.now() + 6000)
        var x = setInterval(function () {
            var now = new Date().getTime();
            var distance = countDownDate - now;
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            currentSeconds -= 1000
            var progressPercentage = (currentSeconds / breakTime).toFixed(2) * 100
            document
                .getElementsByClassName("progress-bar")[0]
                .setAttribute("style", "width:" + progressPercentage + "%");
            if (hours < 10) {
                hours = "0" + hours
            }
            if (minutes < 10) {
                minutes = "0" + minutes
            }
            if (seconds < 10) {
                seconds = "0" + seconds
            }
            document.getElementById("demo").innerHTML =
                + minutes + ":" + seconds;
            if (distance < 0) {
                clearInterval(x);
                document.getElementById("demo").innerHTML = "TIME'S UP";
                var timebox = document.getElementById("timebox")
                timebox.classList.add("bg-danger");
            }
        }, 1000);
        function timerFunction() {
            var timer = document.getElementById("timer");
            var demo = document.getElementById("demo");
            if (timer.classList.contains('timerOn')) {
                demo.style.display = "none";
                timer.classList.remove("timerOn");
            } else {
                demo.style.display = "block";
                timer.classList.add("timerOn");
            }
        }
    </script>
</body>

</html>